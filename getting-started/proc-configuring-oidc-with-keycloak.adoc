[id="proc-configuring-oidc-with-keycloak_{context}"]

= Configuring OIDC with Keycloak in {product-short}
To use Keycloak with OIDC, you must add the OIDC authentication provider configuration to your `app-config.yaml` file. 

The OIDC authentication provider uses the following configuration keys:

* `clientId`: the client ID that you generated Keycloak. For example: RHDH
* `clientSecret`: the client secret tied to the generated client ID.
* `metadataUrl`: the URL of the Keycloak instance. For example: <KEYCLOAK_BASE_URL>/realms/<KEYCLOAK_REALM>.
* `prompt`: set to `auto`.

To configure OIDC with Keycloak, add the provider configuration to your `app-config.yaml` file under the root auth configuration. For example:

[source,yaml]
----
auth:
  environment: production
  providers:
    oidc:
      production:
      clientId: ${KEYCLOAK_CLIENT_ID}
      clientSecret: ${KEYCLOAK_CLIENT_SECRET}
      metadataUrl: ${KEYCLOAK_BASE_URL}/auth/realms/${KEYCLOAK_REALM}
      prompt: ${KEYCLOAK_PROMPT} # recommended to use auto
      ## Uncomment for additional configuration options
      #callbackUrl: ${KEYCLOAK_CALLBACK_URL}
      #tokenEndpointAuthMethod: ${KEYCLOAK_TOKEN_ENDPOINT_METHOD}
      #tokenSignedResponseAlg: ${KEYCLOAK_SIGNED_RESPONSE_ALG}
      #scope: ${KEYCLOAK_SCOPE}

signInPage: oidc

----