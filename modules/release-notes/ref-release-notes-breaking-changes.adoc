:_content-type: REFERENCE
[id="breaking-changes"]
= Breaking changes

This section lists breaking changes in {product} {product-version}.

[id="removed-functionality-rhidp-4572"]
== Updated monitoring and logging metrics

Prom-client metrics have been removed and replaced with OpenTelemetry metrics. As a result, the metrics port has changed from `7007` to `9464`. Deprecated metrics have also been removed. If you had dependencies on these, ensure your prometheus queries are updated. For further information, see link:https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/monitoring_and_logging/index#assembly-rhdh-observability[Monitoring and logging]


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-4572[RHIDP-4572]

[id="feature-rhidp-4853"]
== Plugins with updated scope

To upgrade from {prod-short} 1.3 to 1.4, you must update your configuration to use the latest versions of the following plugins from the new scope.

With this update, the following plugins, previously under the `@janus-idp` scope, have now been moved to the `@backstage-community` scope:

[cols=2,%header]
|===
| *RHDH 1.3 Plugin Name* 
| *RHDH 1.4 Plugin Name*
|`@janus-idp/backstage-plugin-acr`|`@backstage-community/plugin-acr`
|`@janus-idp/backstage-plugin-acr`|`@backstage-community/plugin-acr`
|`@janus-idp/backstage-plugin-analytics-provider-segment`|`@backstage-community/plugin-analytics-provider-segment`
|`@janus-idp/backstage-plugin-jfrog-artifactory`|`@backstage-community/plugin-jfrog-artifactory`
|`@janus-idp/backstage-plugin-keycloak-backend`|`@backstage-community/plugin-catalog-backend-module-keycloak`
|`@janus-idp/backstage-plugin-nexus-repository-manager`|`@backstage-community/plugin-nexus-repository-manager`
|`@janus-idp/backstage-plugin-ocm`|`@backstage-community/plugin-ocm`
|`@janus-idp/backstage-plugin-ocm-backend`|`@backstage-community/plugin-ocm-backend`
|`@janus-idp/backstage-plugin-quay`|`@backstage-community/plugin-quay`
|`@janus-idp/backstage-plugin-rbac`|`@backstage-community/plugin-rbac`
|`@janus-idp/backstage-plugin-tekton`|`@backstage-community/plugin-tekton`
|`@janus-idp/backstage-plugin-topology`|`@backstage-community/plugin-topology`
|`@janus-idp/backstage-scaffolder-backend-module-quay`|`@backstage-community/plugin-scaffolder-backend-module-quay`
|`@janus-idp/backstage-scaffolder-backend-module-regex`|`@backstage-community/plugin-scaffolder-backend-module-regex`
|`@janus-idp/backstage-scaffolder-backend-module-servicenow`|`@backstage-community/plugin-scaffolder-backend-module-servicenow`
|`@janus-idp/backstage-scaffolder-backend-module-sonarqube`|`@backstage-community/plugin-scaffolder-backend-module-sonarqube`
|===

The following plugins that were previously under the `@backstage` scope have moved to `@backstage-community`:
[cols=2,%header]
|===
| *RHDH 1.3 Plugin Name* 
| *RHDH 1.4 Plugin Name*
|`@backstage/plugin-azure-devops`|`@backstage-community/plugin-azure-devops`
|`@backstage/plugin-azure-devops-backend`|`@backstage-community/plugin-azure-devops-backend`
|`@backstage/plugin-dynatrace`|`@backstage-community/plugin-dynatrace`
|`@backstage/plugin-github-actions`|`@backstage-community/plugin-github-actions`
|`@backstage/plugin-github-issues`|`@backstage-community/plugin-github-issues`
|`@backstage/plugin-jenkins`|`@backstage-community/plugin-jenkins`
|`@backstage/plugin-jenkins-backend`|`@backstage-community/plugin-jenkins-backend`
|`@backstage/plugin-lighthouse`|`@backstage-community/plugin-lighthouse`
|`@backstage/plugin-sonarqube`|`@backstage-community/plugin-sonarqube`
|`@backstage/plugin-sonarqube-backend`|`@backstage-community/plugin-sonarqube-backend`
|`@backstage/plugin-tech-radar`|`@backstage-community/plugin-tech-radar`
|===

Two plugins previously under the *@janus-idp* scope have moved to *@red-hat-developer-hub*:

[cols=2,%header]
|===
| *RHDH 1.3 Plugin Name* 
| *RHDH 1.4 Plugin Name*

| `@janus-idp/backstage-plugin-bulk-import`
| `@red-hat-developer-hub/backstage-plugin-bulk-import`

| `@janus-idp/backstage-plugin-bulk-import-backend`
| `@red-hat-developer-hub/backstage-plugin-bulk-import-backend`
|===

As the scope of the previous plugins has been updated, the dynamic plugin configuration has also changed.

[cols=2,%header]
|===
|*RHDH 1.3 Configuration*|*RHDH 1.4 Configuration*
|link:https://github.com/janus-idp/backstage-showcase/blob/release-1.3/dynamic-plugins.default.yaml[dynamic-plugins.default.yaml]|link:https://github.com/janus-idp/backstage-showcase/blob/release-1.4/dynamic-plugins.default.yaml[dynamic-plugins.default.yaml]
|===

.Procedure
* If you use any of the plugins listed above, you must revise your configuration to use the latest plugins from the new scope in order to upgrade from {product-very-short} 1.3 to {product-very-short} 1.4.

[NOTE]
====
In addition to the tables above, you can also review which dynamic plugins have changed between {product-very-short} 1.3 and {product-very-short} 1.4 by comparing these two files:

* https://github.com/redhat-developer/red-hat-developers-documentation-rhdh/blob/release-1.3/modules/dynamic-plugins/rhdh-supported-plugins.csv
* https://github.com/redhat-developer/red-hat-developers-documentation-rhdh/blob/release-1.4/modules/dynamic-plugins/rhdh-supported-plugins.csv
====
